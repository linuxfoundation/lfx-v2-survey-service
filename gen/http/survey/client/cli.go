// Code generated by goa v3.24.1, DO NOT EDIT.
//
// survey HTTP client CLI support package
//
// Command:
// $ goa gen
// github.com/linuxfoundation/lfx-v2-survey-service/api/survey/v1/design

package client

import (
	"encoding/json"
	"fmt"

	survey "github.com/linuxfoundation/lfx-v2-survey-service/gen/survey"
)

// BuildScheduleSurveyPayload builds the payload for the survey schedule_survey
// endpoint from CLI flags.
func BuildScheduleSurveyPayload(surveyScheduleSurveyBody string, surveyScheduleSurveyToken string) (*survey.ScheduleSurveyPayload, error) {
	var err error
	var body ScheduleSurveyRequestBody
	{
		err = json.Unmarshal([]byte(surveyScheduleSurveyBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"committee_voting_enabled\": false,\n      \"committees\": [\n         \"Maiores quis incidunt pariatur.\",\n         \"Unde consequatur.\",\n         \"Sunt accusamus pariatur quia itaque quidem.\",\n         \"Et saepe corrupti quis nostrum.\"\n      ],\n      \"creator_id\": \"Eligendi corporis enim.\",\n      \"creator_name\": \"Aliquid aut excepturi.\",\n      \"creator_username\": \"Enim amet quia maxime rerum modi labore.\",\n      \"email_body\": \"Odit nostrum nostrum repellat aut molestiae officiis.\",\n      \"email_body_text\": \"Et voluptas possimus iste quasi nisi.\",\n      \"email_subject\": \"Ratione sed molestiae aliquam consequatur.\",\n      \"is_project_survey\": false,\n      \"send_immediately\": true,\n      \"stage_filter\": \"Voluptas est autem voluptas ea molestiae repudiandae.\",\n      \"survey_cutoff_date\": \"Iste eos adipisci itaque vel.\",\n      \"survey_monkey_id\": \"Consectetur nisi quisquam.\",\n      \"survey_reminder_rate_days\": 5042865997269094452,\n      \"survey_send_date\": \"Aliquid illum quia sed asperiores rerum molestiae.\",\n      \"survey_title\": \"Eum mollitia.\"\n   }'")
		}
	}
	var token *string
	{
		if surveyScheduleSurveyToken != "" {
			token = &surveyScheduleSurveyToken
		}
	}
	v := &survey.ScheduleSurveyPayload{
		IsProjectSurvey:        body.IsProjectSurvey,
		StageFilter:            body.StageFilter,
		CreatorUsername:        body.CreatorUsername,
		CreatorName:            body.CreatorName,
		CreatorID:              body.CreatorID,
		SurveyMonkeyID:         body.SurveyMonkeyID,
		SurveyTitle:            body.SurveyTitle,
		SendImmediately:        body.SendImmediately,
		SurveySendDate:         body.SurveySendDate,
		SurveyCutoffDate:       body.SurveyCutoffDate,
		SurveyReminderRateDays: body.SurveyReminderRateDays,
		EmailSubject:           body.EmailSubject,
		EmailBody:              body.EmailBody,
		EmailBodyText:          body.EmailBodyText,
		CommitteeVotingEnabled: body.CommitteeVotingEnabled,
	}
	if body.Committees != nil {
		v.Committees = make([]string, len(body.Committees))
		for i, val := range body.Committees {
			v.Committees[i] = val
		}
	}
	v.Token = token

	return v, nil
}
